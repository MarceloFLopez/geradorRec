<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Visualizar Dados</title>
  <link rel="stylesheet" href="style.css">
</head>

<body onload="exibirDataAtual();">

  <div class="container">
    <h1 text-align: center;>Receituario de Controle Especial</h1>
    <div class="card text-center">
      <div class="card-body" style="text-align: center;">
        <h5 class="card-title">Nome da clinica aqui</h5>
        <p class="card-text">Endereço clinica aqui</p>
      </div>
    </div>
    <hr>

    </br>
    <div class="text-center">
      <div style="text-align: center; margin: -30px 0px 0px 0px;">
        <h2>Dados do Paciente</h2>
      </div>
    </div>
    <div id="dadosPaciente" style="margin-top: 10px;">
      <!-- Dados serão inseridos aqui via JavaScript -->
    </div>
    </br>
    <hr>
    <div class="text-center">
      <div style="text-align: center; margin-top: 10px;">
        <h2>Prescrição</h2>
      </div>
    </div>
    <div>
      <br><br><br>
      <div class="conteudo">
        <p>Conteudo aqui</p>
      </div>

    </div>
    <div class="medic-field">     
      <div style="text-align: end;">
        <p>Nome do Medico <br style="margin-right: 10px;">crm:1111111</p>
      

      </div>
    </div>
    <div class="card text-center" style="margint-top: 100%">
      <div class="card-header">
        Featured
      </div>
      <div class="card-body">
        <h5 class="card-title">Special title treatment</h5>
        <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
    
      </div>
      <div class="card-footer text-muted">
        2 days ago
      </div>
    </div>
  </div>
  <div class="footer">
    <hr>
  </div>
  <div class="footer">
    <p class="card-text">Página 1 - Data:<span id="dataAtual"></span></p>
  </div>
  </div>
  </div>
  <script>
    // Recupera os dados do localStorage
    const dados = JSON.parse(localStorage.getItem('dadosPaciente'));

    // Exibe os dados na div de dados
    const dadosPacienteDiv = document.getElementById('dadosPaciente');
    if (dados) {
      dadosPacienteDiv.innerHTML = `
        <p><strong>Paciente:</strong> ${dados.nomePaciente}              
	      <strong style="margin-left: 50%;">Idade:</strong> ${dados.idade} </p>
        <p style="margin-bottom: -10px"><strong>Endereço:</strong> ${dados.endereco}</p>`;
    }
  </script>
  <!-- Scripts JavaScript -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <!-- ATENÇÃO -- Adicionar a URL do caminho do arquivo JS se não o html não vai funcionar -->
  <script src="../frontend.js"></script>

  <script>
    // Função para obter a data atual formatada como dd/MM/yyyy
    function getDataAtualFormatada() {
      var data = new Date();

      var dia = data.getDate().toString().padStart(2, '0');
      var mes = (data.getMonth() + 1).toString().padStart(2, '0');
      var ano = data.getFullYear();

      return dia + '/' + mes + '/' + ano;
    }

    // Função para exibir a data formatada na página
    function exibirDataAtual() {
      var dataAtual = getDataAtualFormatada();
      var elementoData = document.getElementById('dataAtual');
      elementoData.textContent = dataAtual;
    }
  </script>
</body>

</html>